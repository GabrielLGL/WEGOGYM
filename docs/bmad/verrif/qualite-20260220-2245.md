# Code mort & qualité — 20260220-2245

## Résumé : 5 problèmes trouvés

---

### Code mort

| Fichier | Type | Élément |
|---------|------|---------|
| — | — | Aucun import inutilisé confirmé. `map` (HomeScreen L6) utilisé L454 via `.pipe(map(...))`. `Alert` (WorkoutScreen L11) utilisé L106. |

---

### TypeScript

| Fichier | Ligne | Problème |
|---------|-------|----------|
| — | — | Aucun `any` ni `as any` trouvé hors __tests__ |

---

### Logs de production

| Fichier | Lignes |
|---------|--------|
| `hooks/useSessionManager.ts` | 108, 148, 170, 213 — 4× `console.error` sans `__DEV__` |
| `hooks/useProgramManager.ts` | 85, 104, 124, 159, 208, 227, 253 — 7× `console.error` sans `__DEV__` |

ℹ️ Déjà signalés dans `code-review-20260220-2225.md` Groupe A — correction en attente.

---

### Valeurs hardcodées

| Fichier | Ligne | Valeur | Suggestion |
|---------|-------|--------|------------|
| `components/WorkoutExerciseCard.tsx` | 289 | `rgba(52, 199, 89, 0.12)` — vert succès transparent | Ajouter `colors.successBg` dans le theme |
| `components/WorkoutExerciseCard.tsx` | 361 | `rgba(0, 122, 255, 0.15)` — primary transparent | Ajouter `colors.primaryBg` dans le theme |
| `components/RestTimer.tsx` | 177 | `rgba(255, 255, 255, 0.08)` — blanc semi-transparent | Ajouter `colors.surfaceOverlay` dans le theme |

Note : `shadowColor: '#000'` dans AlertDialog/BottomSheet/CustomModal/HomeScreen déjà signalé dans `code-review-20260220-2225.md` Groupe C.

---

### Conventions

| Fichier | Problème |
|---------|----------|
| `models/Program.ts` | L12 : `@field('name')` pour une colonne string — tous les autres modèles utilisent `@text`. Cosmétique, déjà signalé dans `db-20260220-2235.md`. |

---

### TODO / FIXME / Code commenté

Aucun trouvé. ✅

---

## Parallélisation des corrections

| # | Problème | Fichiers | Effort | Groupe |
|---|----------|----------|--------|--------|
| 1 | console.error sans __DEV__ (11 occurrences) | `useSessionManager.ts`, `useProgramManager.ts` | 15 min | **A** (déjà dans code-review) |
| 2 | rgba hardcodés → tokens theme | `WorkoutExerciseCard.tsx`, `RestTimer.tsx`, `theme/index.ts` | 20 min | **B** |
| 3 | shadowColor '#000' → token theme | `AlertDialog.tsx`, `BottomSheet.tsx`, `CustomModal.tsx`, `HomeScreen.tsx`, `theme/index.ts` | 15 min | **B** (même theme/index.ts que #2 → séquentiel) |
| 4 | `@field` → `@text` dans Program.ts | `models/Program.ts` | 2 min | **C** |

Groupes A, C → parallèle avec B. B (#2+#3) → séquentiel (même fichier theme/index.ts).
