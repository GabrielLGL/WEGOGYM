# feat(i18n) — Wave 2 : traduction complète des chaînes FR restantes
Date : 2026-02-28 12:13

## Instruction
Plan i18n Vague 2 — `docs/bmad/plans/wondrous-finding-cake.md`

## Rapport source
Plan mode — fichier plan C:\Users\gabri\.claude\plans\wondrous-finding-cake.md

## Classification
Type : feat
Fichiers modifiés :
- `mobile/src/model/utils/statsKPIs.ts`
- `mobile/src/model/utils/gamificationHelpers.ts`
- `mobile/src/model/utils/statsVolume.ts`
- `mobile/src/components/LevelBadge.tsx`
- `mobile/src/components/StreakIndicator.tsx`
- `mobile/src/components/WorkoutSummarySheet.tsx`
- `mobile/src/components/ChipSelector.tsx`
- `mobile/src/components/ExerciseInfoSheet.tsx`
- `mobile/src/screens/ExercisesScreen.tsx`
- `mobile/src/screens/BadgesScreen.tsx`
- `mobile/src/screens/HomeScreen.tsx`
- `mobile/src/screens/StatsCalendarScreen.tsx`
- `mobile/src/screens/StatsVolumeScreen.tsx`
- `mobile/src/screens/StatsRepartitionScreen.tsx`
- `mobile/src/screens/StatsMeasurementsScreen.tsx`
- `mobile/src/i18n/fr.ts` (nouvelles clés — session précédente)
- `mobile/src/i18n/en.ts` (traductions EN — session précédente)
- `mobile/src/screens/__tests__/StatsVolumeScreen.test.tsx`
- `mobile/src/screens/__tests__/StatsRepartitionScreen.test.tsx`

## Ce qui a été fait

### Groupe A (session précédente)
- Ajout de toutes les nouvelles clés dans `fr.ts` et `en.ts` :
  `home.dayLabels`, `streak.*`, `levelBadge.*`, `workoutSummary.*`, `statsCalendar.*`,
  `statsVolume.*`, `statsMeasurements.*`, `statsRepartition.*`, `muscleNames`, `equipmentNames`,
  `milestones.*`, `badges.categories`, `badges.list`, `exerciseInfoSheet.*`

### Groupe B — Utility functions
- `statsKPIs.ts` : `computeMotivationalPhrase` → 3e param `language: Language = 'fr'`, 6 strings FR remplacées par `translations[language].home.motivational.*`
- `gamificationHelpers.ts` : `detectMilestones` → 3e param `language: Language = 'fr'`, maps SESSION_KEY_MAP/TONNAGE_KEY_MAP, strings remplacées par `translations[language].milestones.*`
- `statsVolume.ts` : `buildWeeklyActivity` → 4e param optionnel `dayLabels?: string[]`

### Groupe C — Composants réutilisables
- `LevelBadge.tsx` : `useLanguage()` → `{t.levelBadge.label} {level}`
- `StreakIndicator.tsx` : `useLanguage()` → `t.streak.*`
- `WorkoutSummarySheet.tsx` : `useLanguage()` → `t.workoutSummary.*`, signature `getMotivationMessage` mise à jour
- `ChipSelector.tsx` : prop `labelMap?: Record<string, string>` ajoutée → affiche `labelMap?.[item] ?? item`

### Groupe D — Stats Calendar / Volume / Repartition
- `StatsCalendarScreen.tsx` : `useLanguage()`, locale dynamique, `DAY_LABELS` → `t.statsCalendar.dayLabels`, toutes les strings remplacées
- `StatsVolumeScreen.tsx` : `useLanguage()`, `computeBarWindow` → params `monthAbbr/monthFull/labelAll`, `muscleLabelMap` + `barPeriodLabelMap`, noms muscles traduits dans les progress bars
- `StatsRepartitionScreen.tsx` : `useLanguage()`, `muscleLabelMap`, `labelMap` sur ChipSelector, toutes les strings remplacées, noms muscles traduits dans répartition et sets par muscle

### Groupe E — Measurements
- `StatsMeasurementsScreen.tsx` : `useLanguage()`, locale dynamique, `selectedMetric` → key-based (`'weight'` au lieu de `'Poids'`), `metricsLabelMap`, ChipSelector avec `labelMap`, toutes les dates localisées, toutes les strings remplacées

### Groupe F — Exercises library
- `ExercisesScreen.tsx` : `useLanguage()` dans ExerciseItem, muscles traduits (`t.muscleNames[m] ?? m`), équipements traduits, `labelMap` sur les 2 ChipSelectors
- `ExerciseInfoSheet.tsx` : `useLanguage()`, muscle chips traduits, toutes les strings remplacées

### Groupe G — Badges
- `BadgesScreen.tsx` : `t.badges.categories[category] ?? BADGE_CATEGORY_LABELS[category]`

### Groupe H — HomeScreen
- `HomeScreen.tsx` : `language` passé à `computeMotivationalPhrase`, `t.home.dayLabels` passé à `buildWeeklyActivity`

### Tests mis à jour
- `StatsVolumeScreen.test.tsx` : `'Pecs'` → `'Pectoraux'` (traduit en FR)
- `StatsRepartitionScreen.test.tsx` : `'Pecs'` → `'Pectoraux'` (traduit en FR)

## Vérification
- TypeScript : ✅ 0 erreur
- Tests : ✅ 1564 passed / 0 failed
- Nouveau test créé : non (tests existants mis à jour)

## Documentation mise à jour
aucune

## Statut
✅ Résolu — 20260228-1213

## Commit
6766dab feat(i18n): wave 2 — translate all remaining French hardcoded strings
