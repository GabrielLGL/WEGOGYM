# fix(settings) — Hints erreurs OpenAI 429/401 et Claude 401
Date : 2026-02-21 12:00

## Instruction
docs/bmad/prompts/20260221-1200-openai-fix-B.md

## Rapport source
docs/bmad/prompts/20260221-1200-openai-fix-B.md

## Classification
Type : fix
Fichiers modifiés :
- mobile/src/screens/SettingsScreen.tsx
- mobile/src/screens/__tests__/SettingsScreen.test.tsx

## Ce qui a été fait
Dans `handleTestConnection` (SettingsScreen.tsx) :
- Ajout de 3 constantes booléennes après `isGemini429` :
  - `isOpenAI429` : provider openai + erreur contenant '429'
  - `isOpenAI401` : provider openai + erreur contenant '401'
  - `isClaude401` : provider claude + erreur contenant '401'
- Extension du ternaire `hint` pour couvrir ces 3 nouveaux cas :
  - OpenAI 429 → hint billing platform.openai.com/settings/billing
  - OpenAI 401 → hint clé platform.openai.com/api-keys
  - Claude 401 → hint clé console.anthropic.com
- Les hints Gemini 403 et 429 existants sont inchangés

Dans `SettingsScreen.test.tsx` :
- Ajout de 3 tests unitaires couvrant les nouveaux hints (27 tests au total)

## Vérification
- TypeScript : ✅ zéro erreur
- Tests : ✅ 27 passed (dont 3 nouveaux)
- Nouveau test créé : oui (3 tests)

## Documentation mise à jour
aucune

## Statut
✅ Résolu — 20260221-1200

## Commit
d2d2e6a fix(settings): add error hints for OpenAI 429/401 and Claude 401
