<!-- v1.0 — 2026-02-26 -->
# Rapport — Neumorphisme v2 — Groupe B — 20260226-1800

## Objectif
Appliquer les dégradés (LinearGradient) sur les surfaces clés de l'app pour l'effet "degradé" du site web : fond principal en dégradé sombre, bouton primary en dégradé cyan, cards avec micro-gradient.

**Dépend de** : Groupe A (les tokens `cardGradientStart`, `cardGradientEnd`, `primaryGradientStart`, `primaryGradientEnd` doivent exister dans le thème).

## Fichiers concernés
1. `mobile/package.json` + `mobile/src/` — install `expo-linear-gradient` si absent
2. `mobile/src/components/Button.tsx` — gradient sur le variant `primary`
3. `mobile/src/screens/HomeScreen.tsx` — gradient sur le fond principal

## Contexte technique
- `useColors()` hook retourne `ThemeColors` qui contient les tokens gradient ajoutés par Groupe A
- `expo-linear-gradient` : package Expo officiel, compatible New Architecture (Fabric)
- Pour l'installer : `cd mobile && npx expo install expo-linear-gradient`
- Import : `import { LinearGradient } from 'expo-linear-gradient'`
- `LinearGradient` s'utilise comme un `View` — il remplace le `style.backgroundColor` du conteneur
- Sur Android, `elevation` doit rester sur un `View` parent (LinearGradient ne supporte pas l'elevation directement)

## Étapes

### Préliminaire — Installer expo-linear-gradient
```bash
cd mobile && npx expo install expo-linear-gradient
```
Vérifier dans `package.json` que `"expo-linear-gradient"` apparaît.

### 1. Button.tsx — Gradient sur `primary`

Lire `mobile/src/components/Button.tsx` en entier d'abord.

Objectif : le bouton `primary` affiche un dégradé cyan `primaryGradientStart → primaryGradientEnd` au lieu d'une couleur plate.

Pattern à appliquer :
- Importer `LinearGradient` depuis `expo-linear-gradient`
- Importer `useColors` depuis `contexts/ThemeContext`
- Quand `variant === 'primary'` et que le bouton n'est PAS pressé :
  - Remplacer le `View` du contenu par un `LinearGradient` avec `colors={[c.primaryGradientStart, c.primaryGradientEnd]}`, `start={{ x: 0, y: 0 }}`, `end={{ x: 1, y: 1 }}`
  - Garder le `borderRadius` identique
- Quand `variant === 'primary'` ET pressé : utiliser `c.primary` plat (l'effet enfoncé suffit)
- Les autres variants (`secondary`, `danger`, `ghost`) ne changent pas

Contrainte : le `neuShadow.elevated`/`pressed` reste sur le composant `Pressable` parent — PAS sur le `LinearGradient`.

### 2. HomeScreen.tsx — Gradient sur le fond principal

Lire `mobile/src/screens/HomeScreen.tsx` en entier d'abord.

Objectif : le `View` racine de l'écran (celui avec `backgroundColor: colors.background`) devient un `LinearGradient` du bas vers le haut ou du haut vers le bas.

Pattern :
```tsx
import { LinearGradient } from 'expo-linear-gradient'
// ...
const c = useColors()

// Remplacer le View root style={{ flex: 1, backgroundColor: c.background }} par :
<LinearGradient
  colors={[c.bgGradientStart, c.bgGradientEnd]}
  start={{ x: 0, y: 0 }}
  end={{ x: 0.3, y: 1 }}
  style={{ flex: 1 }}
>
  {/* contenu existant intact */}
</LinearGradient>
```

Important :
- Ne pas toucher à la logique (withObservables, data props, etc.)
- Ne pas toucher aux composants enfants — juste wrapper le root View
- Si HomeScreen utilise `SafeAreaView` ou `ScrollView` comme root, wrapper AUTOUR du root existant avec le LinearGradient, et mettre `style={{ flex: 1 }}` sur le LinearGradient

### 3. Vérification TypeScript
```bash
cd mobile && npx tsc --noEmit
```

## Contraintes
- Ne JAMAIS utiliser `<Modal>` natif — toujours Portal (CLAUDE.md §3.1)
- Ne pas modifier la logique métier de HomeScreen (WatermelonDB observables)
- Ne pas ajouter de console.log
- `LinearGradient` doit avoir le même `flex: 1` que le View qu'il remplace pour éviter les layout bugs
- Sur Android : si `elevation` est needed sur le gradient container, utiliser un `View` parent avec elevation + `overflow: 'visible'`

## Critères de validation
- `cd mobile && npx tsc --noEmit` → zéro erreur
- Button primary affiche un dégradé cyan visible
- HomeScreen a un fond légèrement dégradé (top plus clair, bas plus foncé)
- Aucun crash sur Android

## Dépendances
Ce groupe dépend de **Groupe A** (tokens `primaryGradientStart`, `primaryGradientEnd`, `bgGradientStart`, `bgGradientEnd` dans le thème).

## Statut
⏳ En attente
