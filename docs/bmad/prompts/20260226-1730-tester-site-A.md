<!-- v1.0 — 2026-02-26 -->
# Rapport — Tester le site web — Groupe A — 20260226-1730

## Objectif
Savoir comment tester le site Next.js (kore-web) en local et vérifier ses fonctionnalités.

## Fichiers concernés
- `web/package.json` — scripts disponibles
- `web/.env.local` — variables d'environnement (Supabase + Resend)
- `web/src/app/page.tsx` — landing page principale
- `web/src/app/api/subscribe/route.ts` — API POST d'inscription email

## Stack
- Next.js 15 + React 19 + TypeScript + TailwindCSS 4
- Supabase (base de données subscribers)
- Resend (envoi email de bienvenue)
- Pas de tests automatisés (Jest/Vitest non configurés)

## Étapes pour tester en local

### 1. Vérifier les variables d'environnement
```
web/.env.local doit contenir :
  NEXT_PUBLIC_SUPABASE_URL=...
  NEXT_PUBLIC_SUPABASE_ANON_KEY=...
  RESEND_API_KEY=...
  NEXT_PUBLIC_SITE_URL=http://localhost:3000
```

### 2. Lancer le serveur de dev
```bash
cd web
npm install        # si pas encore fait
npm run dev        # lance sur http://localhost:3000
```

### 3. Tester la page principale
- Ouvrir http://localhost:3000
- Vérifier le rendu visuel (landing page Kore)
- Vérifier les animations (ScrollReveal, BackgroundBlobs)
- Tester le ThemeToggle (dark/light mode)

### 4. Tester le formulaire d'inscription
- Remplir le formulaire email sur la page
- Soumettre → doit appeler POST /api/subscribe
- Vérifier : entrée créée dans Supabase table `subscribers`
- Vérifier : email de bienvenue reçu (via Resend)

### 5. Tester l'API directement (curl ou Postman)
```bash
curl -X POST http://localhost:3000/api/subscribe \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com", "name": "Test"}'
# Réponse attendue : {"success": true}

# Test email invalide :
curl -X POST http://localhost:3000/api/subscribe \
  -H "Content-Type: application/json" \
  -d '{"email": "invalide"}'
# Réponse attendue : {"error": "Email invalide"} (HTTP 400)
```

### 6. Vérifier le build de production
```bash
cd web
npm run build    # doit compiler sans erreur
npm run lint     # doit passer sans warnings
```

### 7. Vérifier TypeScript
```bash
cd web
npx tsc --noEmit  # zéro erreur attendue
```

## Critères de validation
- `npm run dev` démarre sans erreur
- Page s'affiche correctement sur localhost:3000
- Formulaire subscribe → `{"success": true}`
- Email invalide → HTTP 400
- `npm run build` sans erreur
- `npm run lint` sans warnings

## Statut
✅ Rapport informatif — pas de tâche de code
