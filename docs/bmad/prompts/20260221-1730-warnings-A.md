<!-- v1.0 ‚Äî 2026-02-21 -->
# Rapport ‚Äî warnings-dev ‚Äî Groupe A ‚Äî 20260221-1730

## Objectif
Diagnostiquer et corriger le warning JSI SQLiteAdapter de WatermelonDB :
`[üçâ] JSI SQLiteAdapter not available‚Ä¶ falling back to asynchronous operation`

## Fichiers concern√©s
- `mobile/src/model/index.ts`

## Contexte technique
WatermelonDB est configur√© avec `jsi: true` dans `model/index.ts`.
Ce warning appara√Æt lorsque le module natif JSI de WatermelonDB n'est pas charg√©, ce qui se produit :
1. En mode remote debugger (attendu, acceptable)
2. Quand l'app native n'a pas √©t√© recompil√©e apr√®s une mise √† jour de WatermelonDB
3. Avec Expo Go qui ne supporte pas JSI pour WatermelonDB (n√©cessite un development build)

La stack : Expo 52, New Architecture (Bridgeless mode activ√©, confirm√© dans les logs), WatermelonDB avec JSI.

**Le warning vient du code interne de WatermelonDB**, pas de notre code. On ne peut pas le supprimer directement.

## √âtapes
1. Lire `mobile/src/model/index.ts` pour confirmer la configuration actuelle (`jsi: true`)
2. V√©rifier `mobile/package.json` pour la version exacte de `@nozbe/watermelondb`
3. V√©rifier si `mobile/android/app/src/main/jni/MainApplicationTurboModuleManagerDelegate.h` ou les fichiers de modules natifs incluent bien WatermelonDB (indice d'un native build √† jour)
4. Ajouter un commentaire explicatif dans `model/index.ts` au-dessus de `jsi: true` :
   ```ts
   // JSI requis pour la performance (New Architecture).
   // Warning en dev si l'app native n'est pas recompil√©e (`npm run android`).
   jsi: true,
   ```
5. V√©rifier si l'on peut conditionner JSI par Platform (pas n√©cessaire, mais documenter la limite)

## Contraintes
- Ne pas changer la logique DB, uniquement ajouter un commentaire
- Ne pas d√©sactiver JSI (`jsi: true` doit rester)
- Respecter CLAUDE.md ¬ß3.1 : pas de `console.log` sans `__DEV__`
- Ne pas toucher aux models, schema, ou autres fichiers DB

## Crit√®res de validation
- Le commentaire est en place dans `model/index.ts`
- `npx tsc --noEmit` ‚Üí z√©ro erreur
- Rapport : le warning JSI est attendu en dev Expo Go / sans rebuild natif ‚Üí pas un bug

## D√©pendances
Aucune d√©pendance (groupe ind√©pendant)

## Statut
‚è≥ En attente
