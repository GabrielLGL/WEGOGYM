<!-- v1.0 — 2026-02-26 -->
# Rapport — Neumorphisme v2 — Groupe A — 20260226-1800

## Objectif
Intensifier drastiquement le contraste des ombres neumorphiques dans `theme/index.ts` pour se rapprocher du site web : ombres vraiment noires, reflets vraiment clairs, et tokens de dégradé (LinearGradient) pour les surfaces.

**Problème actuel** : `neuShadowDark (#16181d)` et background `(#21242b)` sont trop proches → neumorphisme à peine visible. Le site web a un contraste bien plus marqué.

## Fichiers concernés
- `mobile/src/theme/index.ts` — seul fichier modifié dans ce groupe

## Contexte technique
- `useColors()` hook dans `contexts/ThemeContext.tsx` propage les couleurs dynamiquement
- `neuShadow` et `neuShadowLight` sont utilisés directement par Button, ChipSelector, BottomSheet, AlertDialog, et plusieurs screens
- iOS : dual shadow (shadowColor + offset + opacity + radius)
- Android : elevation uniquement
- `borderColor` dans neuShadow = simulation du reflet clair (second shadow CSS)
- Pas d'import circulaire : neuShadow utilise des valeurs hardcodées (pas `colors.*`)

## Étapes

### 1. Intensifier les tokens dark mode dans `colors`
Remplacer dans l'objet `colors` :
```typescript
neuShadowDark: '#060809',   // was '#16181d' — near black
neuShadowLight: '#3c4558',  // was '#2c3039' — noticeably lighter
```
Ajouter dans `colors` (gradient tokens) :
```typescript
cardGradientStart: '#262d3a',
cardGradientEnd: '#1a1d24',
bgGradientStart: '#22262e',
bgGradientEnd: '#181b21',
primaryGradientStart: '#00d9d4',
primaryGradientEnd: '#007a77',
```

### 2. Intensifier `neuShadow` (dark mode — iOS + Android)
Remplacer l'export `neuShadow` entier :
```typescript
export const neuShadow = {
  elevated: {
    ...Platform.select({
      ios: {
        shadowColor: '#020304',          // near black
        shadowOffset: { width: 12, height: 12 },
        shadowOpacity: 1.0,
        shadowRadius: 24,
      },
      android: { elevation: 14 },
    }),
    borderWidth: 1,
    borderColor: '#4a5570',             // visible highlight
  },
  elevatedSm: {
    ...Platform.select({
      ios: {
        shadowColor: '#020304',
        shadowOffset: { width: 6, height: 6 },
        shadowOpacity: 0.95,
        shadowRadius: 12,
      },
      android: { elevation: 7 },
    }),
    borderWidth: 1,
    borderColor: '#404a62',
  },
  pressed: {
    ...Platform.select({
      ios: {
        shadowColor: '#020304',
        shadowOffset: { width: 2, height: 2 },
        shadowOpacity: 0.5,
        shadowRadius: 4,
      },
      android: { elevation: 2 },
    }),
    borderWidth: 1,
    borderColor: '#1e2330',
  },
}
```

### 3. Intensifier les tokens light mode dans `lightColors`
Remplacer dans `lightColors` :
```typescript
neuShadowDark: '#8a9bb0',   // was '#b0b8c1' — darker for more contrast
neuShadowLight: '#ffffff',  // keep pure white
```
Ajouter dans `lightColors` (même gradient tokens, inversés) :
```typescript
cardGradientStart: '#eaeff5',
cardGradientEnd: '#d8dfe8',
bgGradientStart: '#e8ecf0',
bgGradientEnd: '#d5dae0',
primaryGradientStart: '#00d9d4',
primaryGradientEnd: '#007a77',
```

### 4. Intensifier `neuShadowLight` (light mode — iOS + Android)
Remplacer l'export `neuShadowLight` entier :
```typescript
export const neuShadowLight = {
  elevated: {
    ...Platform.select({
      ios: {
        shadowColor: '#8a9bb0',
        shadowOffset: { width: 12, height: 12 },
        shadowOpacity: 1.0,
        shadowRadius: 24,
      },
      android: { elevation: 14 },
    }),
    borderWidth: 1,
    borderColor: '#ffffff',
  },
  elevatedSm: {
    ...Platform.select({
      ios: {
        shadowColor: '#8a9bb0',
        shadowOffset: { width: 6, height: 6 },
        shadowOpacity: 0.95,
        shadowRadius: 12,
      },
      android: { elevation: 7 },
    }),
    borderWidth: 1,
    borderColor: '#ffffff',
  },
  pressed: {
    ...Platform.select({
      ios: {
        shadowColor: '#8a9bb0',
        shadowOffset: { width: 2, height: 2 },
        shadowOpacity: 0.5,
        shadowRadius: 4,
      },
      android: { elevation: 2 },
    }),
    borderWidth: 1,
    borderColor: '#d0d7e0',
  },
}
```

### 5. Mettre à jour le type `ThemeColors`
S'assurer que `ThemeColors = typeof colors` inclut les nouveaux tokens (automatique via `typeof`).

### 6. Valider TypeScript
```bash
cd mobile && npx tsc --noEmit
```
Zéro erreur attendu — les nouvelles props sont dans `colors` et `lightColors` symétriquement.

## Contraintes
- Ne pas changer `background`, `card`, `primary`, `danger` — seulement les tokens neumorph + gradients
- Toutes les valeurs hardcodées dans `neuShadow` sont permises (pas de `colors.*` dans les exports de shadow — évite import circulaire)
- La structure de `neuShadow` (elevated/elevatedSm/pressed) ne change pas
- `getThemeColors()` et `getThemeNeuShadow()` ne changent pas

## Critères de validation
- `cd mobile && npx tsc --noEmit` → zéro erreur
- Sur Android physique : ombres visiblement plus prononcées (elevation 14 vs 10)
- `colors.cardGradientStart` et `colors.cardGradientEnd` accessibles via `useColors()`

## Dépendances
Aucune — ce groupe est indépendant.

## Statut
✅ Résolu — 20260226-1800

## Résolution
Rapport do : docs/bmad/do/20260226-1800-style-theme-neumorph-v2-A.md
