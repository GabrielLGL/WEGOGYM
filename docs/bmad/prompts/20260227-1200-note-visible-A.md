<!-- v1.0 — 2026-02-27 -->
# Rapport — note-visible — Groupe A (style bouton note WorkoutExerciseCard) — 20260227-1200

## Objectif
Rendre le bouton "+ Ajouter une note" dans `WorkoutExerciseCard` visuellement cliquable.
Actuellement : texte secondaire gris sans affordance visuelle — l'utilisateur ne sait pas que c'est interactif.
Cible : chip outlined avec icône + texte primary, clairement distinguable des labels passifs.

## Fichiers concernés
- `mobile/src/components/WorkoutExerciseCard.tsx`

## Contexte technique

### État actuel (lignes 273-276 + 392-396)
**JSX :**
```tsx
<TouchableOpacity onPress={() => setIsEditingNote(true)}>
  <Text style={styles.addNoteLink}>+ Ajouter une note</Text>
</TouchableOpacity>
```
**Style :**
```tsx
addNoteLink: {
  color: colors.textSecondary,   // gris peu visible
  fontSize: fontSize.xs,         // 12px
  marginBottom: spacing.xs,
},
```

Problème : même couleur que les autres labels passifs, aucune bordure, aucune icône → invisible comme CTA.

### Imports déjà présents
- `Ionicons` : importé ligne 3 depuis `@expo/vector-icons` ✅
- `spacing`, `borderRadius`, `fontSize` : importés ligne 14 ✅
- `colors` : accessible via `useTheme()` ou `useColors()` ✅ (le composant utilise `useTheme()`)

### Design cible — chip outlined minimaliste
**JSX :**
```tsx
<TouchableOpacity
  onPress={() => setIsEditingNote(true)}
  style={styles.addNoteButton}
  activeOpacity={0.7}
>
  <Ionicons name="create-outline" size={12} color={colors.primary} />
  <Text style={styles.addNoteLink}>Ajouter une note</Text>
</TouchableOpacity>
```
**Styles :**
```tsx
addNoteButton: {
  flexDirection: 'row',
  alignItems: 'center',
  gap: spacing.xs,
  alignSelf: 'flex-start',
  marginBottom: spacing.xs,
  paddingVertical: 4,
  paddingHorizontal: spacing.sm,
  borderRadius: borderRadius.sm,
  borderWidth: 1,
  borderColor: colors.primary + '40',   // primary à 25% d'opacité
},
addNoteLink: {
  color: colors.primary,
  fontSize: fontSize.xs,
  fontWeight: '500',
},
```

### Cohérence design
- Neumorphisme épuré du projet : pas de fond plein, juste une bordure légère
- `colors.primary` (défini dans `theme/index.ts`) pour texte + icône + bordure
- `activeOpacity={0.7}` : feedback tactile standard du projet
- La `TouchableOpacity` existante reçoit un `style` et `activeOpacity` en plus

## Étapes

### 1. Modifier le JSX du bouton (ligne ~274-276)
Remplacer :
```tsx
<TouchableOpacity onPress={() => setIsEditingNote(true)}>
  <Text style={styles.addNoteLink}>+ Ajouter une note</Text>
</TouchableOpacity>
```
Par :
```tsx
<TouchableOpacity
  onPress={() => setIsEditingNote(true)}
  style={styles.addNoteButton}
  activeOpacity={0.7}
>
  <Ionicons name="create-outline" size={12} color={colors.primary} />
  <Text style={styles.addNoteLink}>Ajouter une note</Text>
</TouchableOpacity>
```
(Supprimer le `+` du texte — l'icône le remplace visuellement)

### 2. Modifier les styles (ligne ~392-396)
Remplacer le style `addNoteLink` existant et ajouter `addNoteButton` :
```tsx
addNoteButton: {
  flexDirection: 'row',
  alignItems: 'center',
  gap: spacing.xs,
  alignSelf: 'flex-start',
  marginBottom: spacing.xs,
  paddingVertical: 4,
  paddingHorizontal: spacing.sm,
  borderRadius: borderRadius.sm,
  borderWidth: 1,
  borderColor: colors.primary + '40',
},
addNoteLink: {
  color: colors.primary,
  fontSize: fontSize.xs,
  fontWeight: '500',
},
```

## Contraintes
- Ne pas casser : `isEditingNote` toggle, `noteText`, `handleSaveNote`, les styles `noteText`/`noteInput`
- Respecter : `colors.*` uniquement (pas de hex hardcodé sauf le suffixe opacity `'40'`), `spacing.*`, `borderRadius.*`
- Ne pas modifier le comportement (toujours `onPress={() => setIsEditingNote(true)}`)
- Ne pas toucher : WorkoutSetRow, la logique de séries, les autres styles

## Critères de validation
- `npx tsc --noEmit` → zéro erreur
- `npm test` → zéro fail nouveau (les 7 échecs préexistants `ExercisePickerModal` sont hors scope)
- Visuellement : le bouton se distingue des labels passifs dans l'écran de séance
- L'icône `create-outline` s'affiche à gauche du texte
- Le texte est en `colors.primary` (bleu/violet selon thème)
- Une bordure légère entoure le chip

## Dépendances
Aucune dépendance sur d'autres groupes.

## Statut
⏳ En attente
